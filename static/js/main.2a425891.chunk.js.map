{"version":3,"sources":["components/Button/Button.js","components/Searchbar/Searchbar.js","services/pixabay-api.js","components/Modal/Modal.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Container/Container.js","components/Loader/Loader.js","App.js","index.js"],"names":["Button","buttonName","className","type","Searchbar","state","query","handleChangeName","e","setState","target","value","handleSubmit","evt","preventDefault","props","onSubmit","reset","this","autoComplete","autoFocus","placeholder","onChange","Component","searchQuery","currentPage","axios","get","then","response","data","hits","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleBackdropClick","event","console","log","currentTarget","window","addEventListener","removeEventListener","createPortal","onClick","children","ImageGalleryItem","id","webformatURL","largeImageURL","tags","src","alt","ImageGallery","images","map","el","Container","Loaderr","color","height","width","App","inputQuery","isLoading","error","showModal","onSearch","articles","fetchImages","prevState","pixabayApi","scrollTo","top","documentElement","scrollHeight","behavior","catch","err","toast","finally","onModal","toggleModal","prevProps","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.2a425891.chunk.js","sourcesContent":["//import s from \"./Button.module.css\";\nimport PropTypes from \"prop-types\";\nfunction Button({ buttonName }) {\n  return (\n    <button className=\"SearchForm-button\" type=\"button\">\n      <span className=\"SearchForm-button-label\">{buttonName}</span>\n    </button>\n  );\n}\n\nButton.propTypes = {\n  buttonName: PropTypes.string.isRequired,\n};\n\nexport default Button;\n","import Button from \"../Button/Button\";\n//import s from \"./SubmitForm.module.css\";\n//import PropTypes from 'prop-types';\nimport { Component } from \"react\";\n\nclass Searchbar extends Component {\n  state = {\n    query: \"\",\n  };\n\n  handleChangeName = (e) => {\n    this.setState({ query: e.target.value });\n    //console.log(e.target.value);\n  };\n\n  handleSubmit = (evt) => {\n    evt.preventDefault();\n    this.props.onSubmit({ ...this.state });\n    this.reset();\n  };\n\n  reset() {\n    this.setState({\n      query: \"\",\n    });\n  }\n\n  render() {\n    const { query } = this.state;\n\n    return (\n      <header className=\"Searchbar\">\n        <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\n          <input\n            className=\"SearchForm-input\"\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={query}\n            onChange={this.handleChangeName}\n          />\n          <Button buttonName=\"Search\" />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;\n","import axios from \"axios\";\n\nconst API_KEY = \"21864216-f735fea3a07168d74f35b2198\";\n\nconst fetchImages = (searchQuery, currentPage) => {\n  return axios\n    .get(\n      `https://pixabay.com/api/?q=${searchQuery}&page=${currentPage}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`\n    )\n    .then((response) => response.data.hits);\n};\n\nexport default { fetchImages };\n","import React, { Component } from \"react\";\nimport { createPortal } from \"react-dom\";\n\nconst modalRoot = document.querySelector(\"#modal-root\");\n\nexport default class Modal extends Component {\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  handleKeyDown = (e) => {\n    if (e.code === \"Escape\") {\n      this.props.onClose();\n    }\n  };\n\n  handleBackdropClick = (event) => {\n    console.log(event);\n    if (event.currentTarget === event.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className=\"Overlay\" onClick={this.handleBackdropClick}>\n        <div className=\"Modal\">{this.props.children}</div>\n      </div>,\n      modalRoot\n    );\n  }\n}\n","//import s from \"./FilterContacts.module.css\";\nimport PropTypes from \"prop-types\";\n\nconst ImageGalleryItem = ({\n  id,\n  webformatURL,\n  largeImageURL,\n  tags,\n  onClick,\n}) => {\n  return (\n    <li className=\"ImageGalleryItem\" key={id}>\n      <img\n        src={webformatURL}\n        alt={tags}\n        className=\"ImageGalleryItem-image\"\n        onClick={() => onClick({ largeImageURL, tags })}\n      />\n    </li>\n  );\n};\n\nImageGalleryItem.propTypes = {\n  id: PropTypes.string.isRequired,\n  webformatURL: PropTypes.string.isRequired,\n  largeImageURL: PropTypes.string.isRequired,\n  tags: PropTypes.array.isRequired,\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default ImageGalleryItem;\n","//import s from \"./List.module.css\";\nimport PropTypes from \"prop-types\";\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\n\nfunction ImageGallery({ images, onClick }) {\n  return (\n    <ul className=\"ImageGallery\">\n      {images.map((el) => {\n        return (\n          <ImageGalleryItem\n            key={el.id}\n            webformatURL={el.webformatURL}\n            largeImageURL={el.largeImageURL}\n            tags={el.tags}\n            onClick={onClick}\n          />\n        );\n      })}\n    </ul>\n  );\n}\n\nImageGallery.propTypes = {\n  images: PropTypes.array.isRequired,\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default ImageGallery;\n","import s from \"./Container.module.css\";\nimport PropTypes from \"prop-types\";\nconst Container = ({ children }) => {\n  return <div className=\"App\">{children}</div>;\n};\nContainer.propTypes = {\n  children: PropTypes.node,\n};\nexport default Container;\n","import Loader from \"react-loader-spinner\";\n\nexport default function Loaderr() {\n  return (\n    <Loader\n      type=\"BallTriangle\"\n      color=\"#00BFFF\"\n      height={80}\n      width={80} //3 secs\n    />\n  );\n}\n","import \"./App.css\";\nimport { Component } from \"react\";\nimport Searchbar from \"./components/Searchbar\";\nimport pixabayApi from \"./services/pixabay-api\";\nimport Modal from \"./components/Modal\";\nimport ImageGallery from \"./components/ImageGallery\";\nimport Container from \"./components/Container\";\nimport Loader from \"./components/Loader\";\nimport { ToastContainer, toast } from \"react-toastify\";\n\nexport default class App extends Component {\n  state = {\n    images: [],\n    largeImageURL: \"\",\n    tags: \"\",\n    currentPage: 1,\n    inputQuery: \"\",\n    isLoading: false,\n    error: null,\n    showModal: false,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.inputQuery !== this.state.inputQuery) {\n      this.setState((prevState) => ({\n        images: [],\n        currentPage: 1,\n      }));\n      this.fetchImages();\n    }\n  }\n\n  onSearch = ({ query }) => {\n    this.setState({\n      inputQuery: query,\n      currentPage: 1,\n      articles: [],\n      error: null,\n    });\n  };\n\n  fetchImages = () => {\n    this.setState((prevState) => ({\n      isLoading: true,\n    }));\n    pixabayApi\n      .fetchImages(this.state.inputQuery, this.state.currentPage)\n      .then((data) => {\n        this.setState((prevState) => ({\n          images: [...prevState.images, ...data],\n          currentPage: prevState.currentPage + 1,\n        }));\n        if (this.state.currentPage > 2) {\n          window.scrollTo({\n            top: document.documentElement.scrollHeight,\n            behavior: \"smooth\",\n          });\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        toast.error(\"Шеф все пропало ;)\");\n      })\n      .finally(() => {\n        this.setState((prevState) => ({\n          isLoading: false,\n        }));\n      });\n  };\n\n  onModal = ({ largeImageURL, tags }) => {\n    this.setState({\n      largeImageURL: largeImageURL,\n      tags: tags,\n    });\n    this.toggleModal();\n  };\n\n  toggleModal = () => {\n    this.setState((prevState) => ({\n      showModal: !prevState.showModal,\n    }));\n  };\n\n  render() {\n    return (\n      <Container>\n        <Searchbar onSubmit={this.onSearch} />\n        <ToastContainer />\n        {this.state.isLoading && <Loader />}\n        <ImageGallery images={this.state.images} onClick={this.onModal} />\n        {this.state.images.length > 0 && (\n          <button className=\"Button\" type=\"button\" onClick={this.fetchImages}>\n            Load more\n          </button>\n        )}\n        {this.state.showModal && (\n          <Modal onClose={this.toggleModal}>\n            <img src={this.state.largeImageURL} alt={this.state.tags} />\n          </Modal>\n        )}\n      </Container>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}